# 对象池模式

## 目标

**对象池模式是一种创建型软件设计模式，它使用一组被初始化好的待命对象（既“池”），而不是通过指令按需分配或销毁对象**

**客户端将从池中请求一个对象并操作对象，当客户端完成对象操作，会把这个对象（这是一个特殊的工厂对象）返回给池，而不是销毁这个对象**

**当对一个类进行实例化开销高，类的实例化率很高，及任何一次使用实例数量少的情景下，对象池模式可以提供显著的性能提升**

**当在创建新对象时（特别是通过网络）的时间花费是不固定的，但获取池内的对象的时间花费是可预计的**

**总的来说，使用对象池模式在数据库连接、套接字连接、线程或大型图形（如字体、位图）这类需要消耗较多时间创建对象的时候，是确实有益处的**

**在某些情况下，简单的对象池（不包含外部资源、只占用内存）可能效率不高或降低性能**

## UML图

![](./uml/uml.png)

## 代码

WorkerPool.php  
StringReverseWorker.php

## 测试

Tests/PoolTest.php

## 参考

- https://github.com/domnikl/DesignPatternsPHP/tree/master/Creational/Pool
- http://en.wikipedia.org/wiki/Object_pool_pattern
